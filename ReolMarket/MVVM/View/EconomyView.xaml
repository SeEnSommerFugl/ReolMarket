<UserControl x:Class="ReolMarket.MVVM.View.EconomyView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             mc:Ignorable="d"
             d:DesignWidth="1652" d:DesignHeight="1048"
             Background="Transparent">

    <!-- Lokale ressourcer: mørk kort-baggrund + styles der matcher dine -->
    <UserControl.Resources>
        <!-- Mørk panelbaggrund (justér farven hvis du vil) -->
        <SolidColorBrush x:Key="CardBackground" Color="#162231" Opacity="0.92"/>
        <SolidColorBrush x:Key="CardBorder" Color="#0E1724" Opacity="0.92"/>

        <!-- TitleToLeft alias til din eksisterende TitleLeft (TextBlock) -->
        <Style x:Key="TitleToLeft" TargetType="TextBlock" BasedOn="{StaticResource TitleLeft}"/>

        <!-- TextBlock-udgave af InputRight (din globale er en TextBox-style) -->
        <Style x:Key="InputRight" TargetType="TextBlock">
            
            <Setter Property="TextAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="FontSize" Value="28"/>
            <Setter Property="Foreground" Value="#D9E6FF"/>
        </Style>

        <!-- Genbrugelig “Card” til alle sektioner -->
        <Style x:Key="Card" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource CardBackground}"/>
            <Setter Property="BorderBrush" Value="{StaticResource CardBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="16"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
        </Style>
    </UserControl.Resources>

    <!-- Layout: 3 rækker x 2 kolonner. Mørke “cards” inde i grid’et. -->
    <Grid Background="Transparent" Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- top: Differencer -->
            <RowDefinition Height="Auto"/>
            <!-- midt: Nøgletal + Reol-tal -->
            <RowDefinition Height="Auto"/>
            <!-- bund: Salgs-tal -->
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- GRID 4: Udestående Differencer (DataGrid uden headers) -->
        <Border Grid.Row="0" Grid.Column="1" Style="{StaticResource Card}" Margin="8">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Udestående Differencer"
                           Style="{StaticResource H2}"
                           Foreground="#EAF2FF"/>

                <DataGrid Grid.Row="2"
                          AutoGenerateColumns="False"
                          HeadersVisibility="None"
                          ColumnHeaderHeight="0"
                          CanUserAddRows="False"
                          CanUserDeleteRows="False"
                          CanUserResizeRows="False"
                          CanUserResizeColumns="False"
                          GridLinesVisibility="None"
                          Background="Transparent"
                          BorderThickness="0"
                          RowBackground="Transparent"
                          AlternatingRowBackground="{x:Null}"
                          IsReadOnly="True"
                          ItemsSource="{Binding MonthlyOutstandingPayments}">

                    <!-- Kolonner: Navn + Beløb -->
                    <DataGrid.Columns>
                        <!-- Navn-kolonne: fast placeholder-tekst via Style (ingen Binding nødvendig) -->
                        <DataGridTextColumn Width="*" Binding="{Binding CustomerName}">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock" BasedOn="{StaticResource TitleToLeft}">
                                    <!--<Setter Property="Text" Value="Alex Thomsen"/>-->
                                    <Setter Property="Foreground" Value="#EAF2FF"/>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>

                        <!-- Beløb-kolonne: binder direkte til item (string) og farver via triggers -->
                        <DataGridTextColumn Width="120" Binding="{Binding Outstanding, StringFormat=N2}">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock" BasedOn="{StaticResource InputRight}">
                                    <!-- Farvning på placeholder-værdier -->
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Outstanding}" Value="0">
                                            <Setter Property="Foreground" Value="#3DDC84"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Outstanding}" Value="0">
                                            <Setter Property="Foreground" Value="#FF6B6B"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                    </DataGrid.Columns>


                    <!-- Placeholder-rækker -->
                    <!--<DataGrid.ItemsSource>
                        <x:Array Type="{x:Type sys:String}">
                            <sys:String>+500</sys:String>
                            <sys:String>+500</sys:String>
                            <sys:String>-250</sys:String>
                            <sys:String>-250</sys:String>
                            <sys:String>+500</sys:String>
                        </x:Array>
                    </DataGrid.ItemsSource>-->
                </DataGrid>
            </Grid>
        </Border>

        <!-- GRID 1: Nøgletal -->
        <Border Grid.Column="0" Style="{StaticResource Card}" Margin="16,10,0,53">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Nøgletal" Style="{StaticResource H2}" Foreground="#EAF2FF"/>

                <DockPanel Grid.Row="2" LastChildFill="True" Margin="0,2">
                    <TextBlock Text="Samlet indtægt:" Style="{StaticResource TitleToLeft}" Margin="0,0,12,0" Foreground="#CFE0FF"/>
                    <TextBlock Text="{Binding MonthlyIncome}" Style="{StaticResource InputRight}"/>
                </DockPanel>

                <DockPanel Grid.Row="3" LastChildFill="True" Margin="0,2">
                    <TextBlock Text="Udgifter:" Style="{StaticResource TitleToLeft}" Margin="0,0,12,0" Foreground="#CFE0FF"/>
                    <TextBlock Text="{Binding MonthlyExpenses}"  Style="{StaticResource InputRight}"/>
                </DockPanel>

                <DockPanel Grid.Row="4" LastChildFill="True" Margin="0,2">
                    <TextBlock Text="Difference:" Style="{StaticResource TitleToLeft}" Margin="0,0,12,0" Foreground="#CFE0FF"/>
                    <TextBlock Text="{Binding MonthlyDifference}" Style="{StaticResource InputRight}"/>
                </DockPanel>

                <DockPanel Grid.Row="5" LastChildFill="True" Margin="0,2">
                    <TextBlock Text="Udestående:" Style="{StaticResource TitleToLeft}" Margin="0,0,12,0" Foreground="#CFE0FF"/>
                    <TextBlock Text="5000" Style="{StaticResource InputRight}"/>
                    <!-- <TextBlock Text="{Binding MonthlyOutstanding}" Style="{StaticResource InputRight}"/> -->
                </DockPanel>
            </Grid>
        </Border>

        <!-- GRID 2: Reol-tal -->
        <Border Grid.Row="1" Grid.Column="1" Style="{StaticResource Card}" Margin="8">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Reol-tal" Style="{StaticResource H2}" Foreground="#EAF2FF"/>

                <DockPanel Grid.Row="2" LastChildFill="True" Margin="0,2">
                    <TextBlock Text="Udlejede reoler:" Style="{StaticResource TitleToLeft}" Margin="0,0,12,0" Foreground="#CFE0FF"/>
                    <TextBlock Text="{Binding MonthlyRentedBooths}" Style="{StaticResource InputRight}"/> 
                </DockPanel>

                <DockPanel Grid.Row="3" LastChildFill="True" Margin="0,2">
                    <TextBlock Text="Ledige reoler:" Style="{StaticResource TitleToLeft}" Margin="0,0,12,0" Foreground="#CFE0FF"/>
                    <TextBlock Text="{Binding MonthlyAvailableBooths}" Style="{StaticResource InputRight}"/> 
                </DockPanel>

                <DockPanel Grid.Row="4" LastChildFill="True" Margin="0,2">
                    <TextBlock Text="Reol-leje indkomst:" Style="{StaticResource TitleToLeft}" Margin="0,0,12,0" Foreground="#CFE0FF"/>
                    <TextBlock Text="{Binding MonthlyRentIncome}" Style="{StaticResource InputRight}"/> 
                </DockPanel>

                <DockPanel Grid.Row="5" LastChildFill="True" Margin="0,2">
                    <TextBlock Text="Kommission af salg:" Style="{StaticResource TitleToLeft}" Margin="0,0,12,0" Foreground="#CFE0FF"/>
                     <TextBlock Text="{Binding MonthlyComission}" Style="{StaticResource InputRight}"/> 
                </DockPanel>
            </Grid>
        </Border>

        <!-- GRID 3: Salgs-tal -->
        <Border Grid.Row="2" Grid.ColumnSpan="1" Style="{StaticResource Card}" Margin="8">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Salgs-tal" Style="{StaticResource H2}" Foreground="#EAF2FF"/>

                <DockPanel Grid.Row="2" LastChildFill="True" Margin="0,2">
                    <TextBlock Text="Solgt for:" Style="{StaticResource TitleToLeft}" Margin="0,0,12,0" Foreground="#CFE0FF"/>
                    <TextBlock Text="{Binding MonthlySalesTotal}" Style="{StaticResource InputRight}"/> 
                </DockPanel>

                <DockPanel Grid.Row="3" LastChildFill="True" Margin="0,2">
                    <TextBlock Text="Antal af salg:" Style="{StaticResource TitleToLeft}" Margin="0,0,12,0" Foreground="#CFE0FF"/>
                     <TextBlock Text="{Binding MonthlySalesAmount}" Style="{StaticResource InputRight}"/> 
                </DockPanel>

                <DockPanel Grid.Row="4" LastChildFill="True" Margin="0,2">
                    <TextBlock Text="Kommission af salg:" Style="{StaticResource TitleToLeft}" Margin="0,0,12,0" Foreground="#CFE0FF"/>
                     <TextBlock Text="{Binding MonthlyComission}" Style="{StaticResource InputRight}"/> 
                </DockPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>
